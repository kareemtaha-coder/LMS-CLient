@if (gridContent(); as content) {
  <div class="w-full min-h-[85vh] flex justify-center items-center p-4">

    <div class="w-full max-w-6xl rounded-2xl p-8 md:p-12 bg-slate-100 dark:bg-slate-800/50 content-grid-background">

      <div class="w-full flex justify-center">

        <div class="inline-grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-8 gap-y-16">
          @for (item of content.exampleItems; track item.id) {
            <div class="flex flex-col items-center gap-4">
              <div class="group relative w-36 h-36">
                <div class="absolute top-0 left-1/2 -translate-x-1/2 h-6 w-px bg-slate-300 dark:bg-slate-600"></div>
                <div class="absolute top-6 w-full h-full rounded-2xl  transition-all duration-300 group-hover:shadow-xl group-hover:-translate-y-1">
                  <img
                    [src]="item.imageUrl | toAbsoluteUrl"
                    [alt]="'Example image'"
                    class="h-full w-full  rounded-xl"
                  >
                </div>
              </div>
              @if (item.audioUrl) {
                <audio #audioPlayer [src]="item.audioUrl | toAbsoluteUrl" (ended)="onAudioEnded()"></audio>
                <button
                  (click)="toggleAudio(audioPlayer)"
                  class="w-16 h-16 flex items-center justify-center rounded-full transition-all duration-300 shadow-md"
                  [ngClass]="playingAudio() === audioPlayer ? 'bg-blue-600 text-white scale-110' : 'bg-white dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-600 hover:scale-105'"
                  aria-label="Play audio"
                >
                  @if (playingAudio() === audioPlayer) {
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8"><path d="M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.66 1.905H6.44l4.5 4.5c.944.945 2.56.276 2.56-1.06V4.06zM18.584 5.106a.75.75 0 011.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 11-1.06-1.06 8.25 8.25 0 000-11.668.75.75 0 010-1.06z" /><path d="M15.932 7.757a.75.75 0 011.061 0 6 6 0 010 8.486.75.75 0 01-1.06-1.061 4.5 4.5 0 000-6.364.75.75 0 010-1.06z" /></svg>
                  } @else {
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8"><path d="M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.66 1.905H6.44l4.5 4.5c.944.945 2.56.276 2.56-1.06V4.06z" /></svg>
                  }
                </button>
              }
            </div>
          }
        </div>

      </div>
    </div>
  </div>

  @if(editMode) {
    <div class="pt-6 mt-6 border-t border-slate-200 dark:border-slate-600">
      @if (isAdding()) {
        <app-add-example-item-form (save)="onSaveItem($event)" (cancel)="isAdding.set(false)" />
      } @else {
        <div class="text-center">
          <button (click)="isAdding.set(true)"
                  class="px-6 py-3 font-semibold text-white bg-purple-600 hover:bg-purple-700 rounded-lg shadow-sm transition-transform hover:scale-105">
            إضافة مثال جديد للشبكة
          </button>
        </div>
      }
    </div>
  }
}
